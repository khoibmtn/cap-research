# Session Context Snapshot
**Saved:** 2026-02-22T04:59:00+07:00
**Branch:** main
**Last Commit:** 73bab31 chore: add instruction.md update step to save-context workflow

## What Was Done This Session
- **Statistics Dashboard**: Complete 3-tab A+C dashboard (Tổng quan, Vi sinh MT1, Biomarker MT2) with 20 KPI cards, 8+ charts using Recharts
- **Bar chart labels**: Added n (%) labels to all bar charts
- **Advanced search filters**: Reorganized DashboardPage filter panel into 4 groups
- **statsHelpers.ts**: New utility with mean, sd, median, q1, q3, iqr, pct, frac, psiClass
- **instruction.md updated**: Rewrote Thống kê section for 3-tab dashboard
- **Google Doc manual**: Synced instruction.md content to Google Docs with rich text formatting
- **save-context workflow**: Added Phase 2.5 for mandatory instruction.md update check

## Work In Progress
- None — all tasks completed

## Key Files Modified
- `src/pages/AnalyticsPage.tsx` — Full 3-tab statistics dashboard rewrite
- `src/pages/DashboardPage.tsx` — Advanced search filter reorganization
- `src/utils/statsHelpers.ts` — NEW: Statistical helper functions
- `instruction.md` — Updated with 3-tab statistics documentation
- `.agent/workflows/save-context.md` — Added Phase 2.5 for instruction.md check

## Environment Notes
- Node: v25.2.1
- Firebase project: cap-research-app
- Last deploy: 2026-02-22 04:48

## Important Context for Next Session
- Statistics dashboard uses Recharts for all charts
- 5 novel biomarkers: sTREM-1, TIMP-1, IL-6, IL-10, IL-17
- Google Doc manual link: https://docs.google.com/document/d/1uNjEzjQ8fjqn5b2EdjbsPj_Py_QDySb7kk8Ej0xa1K0/edit
- Data model in `src/types/patient.ts`, 9 patients currently
